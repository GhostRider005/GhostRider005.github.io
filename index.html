<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rose et Trésor</title>
  <link href="https://fonts.googleapis.com/css2?family=Viaoda+Libre&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: url("back.jpg") no-repeat center center;
      background-size: cover;
      color: #222;
      overflow-x: hidden;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    html {
      scroll-behavior: smooth;
    }

    body.night-mode {
      background-color: #121212;
      color: #ddd;
    }

    header {
      background: rgba(255, 255, 255, 0.85);
      padding: 2rem 1rem;
      animation: fadeIn 1.5s ease-out;
    }

    header.night-mode {
      background: rgba(255, 255, 255, 0.2);
    }

    .header-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 2rem;
    }

    .logo {
      width: 70px;
      height: 70px;
      object-fit: cover;
      border-radius: 50%;
      box-shadow: 0 0 8px rgba(0,0,0,0.2);
    }

    h1 {
      font-family: 'Viaoda Libre', serif;
      font-size: 3rem;
      margin: 0;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    header p {
      font-size: 1.3rem;
      margin-top: 1rem;
    }

    .section {
      padding: 2rem;
      max-width: 900px;
      margin: auto;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      margin-bottom: 2rem;
      box-shadow: 0 8px 24px rgba(0,0,0,0.1);
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    .section.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .section.night-mode {
      background: rgba(40, 40, 40, 0.9);
    }

    .dress-code-card {
      display: flex;
      justify-content: center;
      gap: 3rem;
      margin-top: 1.5rem;
    }

    .dress-item {
      text-align: center;
    }

    .icon {
      font-size: 2.5rem;
      color: #222;
    }

    .swatch {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin: 0.5rem auto;
      border: 2px solid #ccc;
    }

    .rose { background-color: #ca2C92; }
    .blanc { background-color: #E0B0FF; }

    .map iframe {
      width: 100%;
      height: 300px;
      border: none;
      border-radius: 12px;
    }

    .rsvp-section form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .rsvp-section input, .rsvp-section select {
      padding: 12px;
      font-size: 1rem;
      border-radius: 10px;
      border: 2px solid #f5c6cb;
    }

    .rsvp-section button {
      padding: 14px;
      background: linear-gradient(to right, #f8b6d2, #d63384);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 1.1em;
      cursor: pointer;
      transition: 0.3s ease;
    }

    .rsvp-section button:hover {
      background: linear-gradient(to right, #d63384, #f8b6d2);
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1rem;
    }

    .gallery img {
      width: 100%;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
    }

    .gallery img:hover {
      transform: scale(1.03);
    }

    .countdown {
      background: #fff;
      border-radius: 16px;
      padding: 2rem;
      text-align: center;
      box-shadow: 0 6px 16px rgba(0,0,0,0.1);
    }

    .countdown.night-mode {
      background: #333;
      color: white;
    }

    .reactions {
      text-align: center;
      margin-top: 1rem;
    }

    .reactions span {
      font-size: 1.5rem;
      margin: 0 0.5rem;
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .reactions span:hover {
      transform: scale(1.3);
    }

    footer {
      text-align: center;
      padding: 2rem;
      background: #fce4ec;
    }

    footer.night-mode {
      background: #2c2c2c;
      color: #fff;
    }

    .toggle-buttons {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 100;
    }

    .toggle-buttons button {
      background-color: #fff;
      border: none;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 50%;
      cursor: pointer;
      transition: 0.3s ease;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .toggle-buttons button:hover {
      background-color: #f8b6d2;
      transform: scale(1.1);
    }

    /* Styles pour le livre d'or */
    .guest-book-container {
      position: relative;
      background: linear-gradient(135deg, rgba(255, 245, 250, 0.9) 0%, rgba(255, 230, 240, 0.9) 100%);
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 10px 30px rgba(199, 21, 133, 0.15);
      overflow: hidden;
      border: 1px solid rgba(199, 21, 133, 0.2);
    }

    .guest-book-container.night-mode {
      background: linear-gradient(135deg, rgba(40, 30, 40, 0.9) 0%, rgba(60, 40, 60, 0.9) 100%);
      border: 1px solid rgba(255, 182, 193, 0.2);
    }

    .guest-input, .guest-textarea {
      width: 100%;
      padding: 12px 15px;
      margin-bottom: 15px;
      border: 2px solid #f8b6d2;
      border-radius: 12px;
      font-size: 1rem;
      transition: all 0.3s ease;
      background: rgba(255, 255, 255, 0.8);
    }

    .guest-textarea {
      min-height: 120px;
      resize: vertical;
    }

    .guest-input:focus, .guest-textarea:focus {
      outline: none;
      border-color: #c71585;
      box-shadow: 0 0 0 4px rgba(199, 21, 133, 0.2);
    }

    .guest-submit-btn, .guest-view-btn {
      padding: 12px 25px;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      margin-right: 10px;
    }

    .guest-submit-btn {
      background: linear-gradient(45deg, #c71585, #e84393);
      color: white;
    }

    .guest-view-btn {
      background: linear-gradient(45deg, #6c5ce7, #a29bfe);
      color: white;
    }

    .guest-submit-btn:hover {
      background: linear-gradient(45deg, #e84393, #c71585);
      transform: translateY(-2px);
    }

    .guest-view-btn:hover {
      background: linear-gradient(45deg, #a29bfe, #6c5ce7);
      transform: translateY(-2px);
    }

    /* Modal amélioré */
    .guest-book-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 9999;
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(5px);
      animation: fadeIn 0.3s ease-out;
    }

    .modal-content {
      background: white;
      border-radius: 20px;
      padding: 2rem;
      width: 90%;
      max-width: 700px;
      max-height: 80vh;
      overflow-y: auto;
      position: relative;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(199, 21, 133, 0.3);
    }

    .night-mode .modal-content {
      background: #2a2a2a;
      color: #f0f0f0;
      border-color: rgba(255, 182, 193, 0.3);
    }

    .modal-close-btn {
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 1.5rem;
      background: none;
      border: none;
      cursor: pointer;
      color: #c71585;
      transition: transform 0.3s ease;
    }

    .modal-close-btn:hover {
      transform: rotate(90deg);
    }

    .modal-title {
      text-align: center;
      margin-bottom: 1.5rem;
      color: #c71585;
      font-size: 1.8rem;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
    }

    .night-mode .modal-title {
      color: #ffb6c1;
    }

    .messages-container {
      display: flex;
      flex-direction: column;
      gap: 1.2rem;
    }

    .message-card {
      background: rgba(255, 245, 250, 0.9);
      border-radius: 15px;
      padding: 1.2rem;
      border-left: 4px solid #c71585;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      animation: fadeInUp 0.5s ease-out forwards;
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.3s ease;
    }

    .night-mode .message-card {
      background: rgba(50, 40, 50, 0.9);
      border-left-color: #ffb6c1;
    }

    .message-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 16px rgba(199, 21, 133, 0.1);
    }

    .message-author {
      font-weight: bold;
      color: #c71585;
      margin-bottom: 5px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .night-mode .message-author {
      color: #ffb6c1;
    }

    .message-text {
      line-height: 1.5;
      color: #333;
    }

    .night-mode .message-text {
      color: #e0e0e0;
    }

    .message-date {
      font-size: 0.8rem;
      color: #888;
      text-align: right;
      margin-top: 8px;
    }

    /* Cœurs flottants */
    .floating-hearts {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }

    .floating-hearts i {
      position: absolute;
      color: rgba(199, 21, 133, 0.15);
      animation: floatHeart 10s linear infinite;
      font-size: 1.2rem;
    }

    .floating-hearts i:nth-child(1) {
      top: 10%;
      left: 20%;
      animation-delay: 0s;
    }

    .floating-hearts i:nth-child(2) {
      top: 60%;
      left: 70%;
      animation-delay: 3s;
    }

    .floating-hearts i:nth-child(3) {
      top: 30%;
      left: 50%;
      animation-delay: 6s;
    }

    @keyframes floatHeart {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.3;
      }
      50% {
        opacity: 0.7;
      }
      100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0;
      }
    }

    @keyframes fadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-container">
      <img src="wedding-arch_11211519.png" alt="Logo des mariés" class="logo">
      <h1><i class="fas fa-ring"></i> Rose et Trésor</h1>
    </div>
  </header>
  
  <div class="toggle-buttons">
    <button id="toggleNightMode"><i class="fas fa-moon"></i></button>
    <button id="translateButton"><i class="fas fa-language"></i></button>
  </div>

  <section class="section">
    <h2>Détails de l'événement</h2>
    <p><strong>Date :</strong> 13 juillet 2025 à 10h00</p>
    <p><strong>Lieu :</strong> Salle de fête SNCC</p>
    <div class="map">
      <iframe src="https://www.google.com/maps?q=Salle+de+f%C3%AAte+SNCC&output=embed"></iframe>
    </div>
  </section>

  <section class="section dresscode-container">
    <h2>🎨 Dress Code mariage civil (Obligatoire)</h2>
    <div class="dress-code-card">
      <div class="dress-item">
        <i class="fas fa-tshirt icon"></i>
        <div class="swatch rose"></div>
        <span>Rose fushia</span>
      </div>
      <div class="dress-item">
        <i class="fas fa-user-tie icon"></i>
        <div class="swatch blanc"></div>
        <span>Mauve pale</span>
      </div>
    </div>
  </section>

  <section class="section rsvp-section">
    <h2>Confirme ta présence</h2>
    <form action="https://formspree.io/f/mzzrdnpq" method="POST">
      <input type="text" name="nom" required placeholder="Ton nom">
  
      <select name="presence" required>
        <option value="">Seras-tu présent(e) ?</option>
        <option value="Oui">Oui, je serai là !</option>
        <option value="Non">Non, malheureusement</option>
      </select>
  
      <select name="accompagné" id="accompagné" required>
        <option value="">Viens-tu accompagné(e) ?</option>
        <option value="Oui">Oui, en couple</option>
        <option value="Non">Non, je viens seul(e)</option>
      </select>
  
      <input type="text" name="nomAccompagnant" id="nomAccompagnant" placeholder="Nom de l'accompagnant" disabled>
  
      <button type="submit">Envoyer</button>
    </form>
  </section>

  <section class="section">
    <h2>📷 M et Mm NYEMBO</h2>
    <div class="gallery">
      <img src="kiss.jpg" alt="Photo 1">
      <img src="pose.jpg" alt="Photo 2">
      <img src="poser.jpg" alt="Photo 3">
      <img src="Smile.jpg" alt="Photo 4">
      <img src="cool.jpg" alt="Photo 5">
    </div>
  </section>

  <section class="section countdown">
    <h3>⏳ Compte à rebours de l'heureux jour</h3>
    <div id="timer" style="font-size: 1.8rem; font-weight: bold;"></div>
  </section>

  <section class="section" id="guestBookSection">
    <h2 style="text-align: center; margin-bottom: 2rem;">📖 Livre d'or</h2>
    
    <div class="guest-book-container">
      <div class="guest-book-input">
        <input type="text" id="nameInput" placeholder="Votre nom" class="guest-input">
        <textarea id="messageInput" rows="4" class="guest-textarea" placeholder="Écrivez votre message de vœux..."></textarea>
        <button onclick="addMessage()" class="guest-submit-btn">
          <i class="fas fa-paper-plane"></i> Envoyer
        </button>
        <button onclick="openModal()" class="guest-view-btn">
          <i class="fas fa-book-open"></i> Voir les messages
        </button>
      </div>
      
      <div class="floating-hearts">
        <i class="fas fa-heart"></i>
        <i class="fas fa-heart"></i>
        <i class="fas fa-heart"></i>
      </div>
    </div>
  </section>

  <div id="modal" class="guest-book-modal">
    <div class="modal-content">
      <button onclick="closeModal()" class="modal-close-btn">✖</button>
      <h3 class="modal-title">
        <i class="fas fa-heart"></i> Messages de vœux
      </h3>
      <div id="messagesList" class="messages-container"></div>
    </div>
  </div>

  <footer>
    Merci de faire partie de ce moment spécial.<br>
    Pour plus d'information veuillez cliquer sur ce lien// Contact : <a href="https://wa.me/243828447154">WhatsApp</a>
  </footer>

  <script>
    // Animation de défilement des sections
    function checkVisibility() {
      const sections = document.querySelectorAll('.section');
      sections.forEach(section => {
        const rect = section.getBoundingClientRect();
        if (rect.top < window.innerHeight - 100) {
          section.classList.add('visible');
        }
      });
    }

    window.addEventListener('scroll', checkVisibility);
    window.addEventListener('load', checkVisibility);

    // Compte à rebours
    const eventDate = new Date("July 13, 2025 10:00:00").getTime();
    const countdown = document.getElementById("timer");

    setInterval(() => {
      const now = new Date().getTime();
      const distance = eventDate - now;
  
      if (distance < 0) {
        countdown.innerHTML = "C'est le grand jour !";
        return;
      }
  
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);
  
      countdown.innerHTML = `${days}j ${hours}h ${minutes}m ${seconds}s`;
    }, 1000);
  
    // Livre d'or
    const badWords = ["fuck", "shit", "merde", "putain", "connard", "salope", "ntm", "fdp", "enculé", "nique", "bitch"];

    function addMessage() {
      const name = document.getElementById('nameInput').value.trim();
      const message = document.getElementById('messageInput').value.trim();

      if (!name || !message) {
        alert('Veuillez remplir votre nom et votre message.');
        return;
      }

      const badWordFound = badWords.some(word => 
        message.toLowerCase().includes(word.toLowerCase()) || 
        name.toLowerCase().includes(word.toLowerCase())
      );

      if (badWordFound) {
        alert('Votre message contient des mots inappropriés. Merci de le modifier.');
        return;
      }

      const messageCard = document.createElement('div');
      messageCard.className = 'message-card';
      messageCard.style.animationDelay = `${document.getElementById('messagesList').children.length * 0.1}s`;
      
      const authorSpan = document.createElement('div');
      authorSpan.className = 'message-author';
      authorSpan.innerHTML = `<i class="fas fa-user"></i> ${name}`;
      
      const textP = document.createElement('div');
      textP.className = 'message-text';
      textP.textContent = message;
      
      const dateSpan = document.createElement('div');
      dateSpan.className = 'message-date';
      dateSpan.textContent = new Date().toLocaleString('fr-FR', {
        day: 'numeric',
        month: 'long',
        year: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
      });
      
      messageCard.appendChild(authorSpan);
      messageCard.appendChild(textP);
      messageCard.appendChild(dateSpan);
      
      document.getElementById('messagesList').prepend(messageCard);
      
      // Animation de confirmation
      const submitBtn = document.querySelector('.guest-submit-btn');
      submitBtn.innerHTML = '<i class="fas fa-check"></i> Envoyé !';
      submitBtn.style.backgroundColor = '#4CAF50';
      
      setTimeout(() => {
        submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Envoyer';
        submitBtn.style.backgroundColor = '';
      }, 2000);
      
      // Réinitialisation des champs
      document.getElementById('nameInput').value = '';
      document.getElementById('messageInput').value = '';
    }

    function openModal() {
      const modal = document.getElementById('modal');
      modal.style.display = 'flex';
      
      // Petite animation quand le modal s'ouvre
      const modalContent = modal.querySelector('.modal-content');
      modalContent.style.transform = 'scale(0.9)';
      modalContent.style.opacity = '0';
      
      setTimeout(() => {
        modalContent.style.transform = 'scale(1)';
        modalContent.style.opacity = '1';
      }, 10);
    }

    function closeModal() {
      const modal = document.getElementById('modal');
      const modalContent = modal.querySelector('.modal-content');
      
      modalContent.style.transform = 'scale(0.9)';
      modalContent.style.opacity = '0';
      
      setTimeout(() => {
        modal.style.display = 'none';
      }, 300);
    }

    // Night Mode Toggle
    const toggleNightMode = document.getElementById("toggleNightMode");
    toggleNightMode.addEventListener("click", () => {
      document.body.classList.toggle("night-mode");
      document.querySelector("header").classList.toggle("night-mode");
      document.querySelectorAll(".section").forEach(section => {
        section.classList.toggle("night-mode");
      });
      document.querySelector(".countdown").classList.toggle("night-mode");
      document.querySelector("footer").classList.toggle("night-mode");
      document.querySelector(".guest-book-container").classList.toggle("night-mode");
    });

    // Translation Button
    const translateButton = document.getElementById("translateButton");
    translateButton.addEventListener("click", () => {
      const currentLang = document.documentElement.lang;
      if (currentLang === "fr") {
        document.documentElement.lang = "en";
        translateToEnglish();
      } else {
        document.documentElement.lang = "fr";
        translateToFrench();
      }
    });

    function translateToEnglish() {
      document.querySelector("header h1").innerText = "Rose and Treasure";
      document.querySelector(".section h2").innerText = "Event Details";
      document.querySelector(".rsvp-section h2").innerText = "RSVP";
      document.querySelector(".countdown h3").innerText = "Countdown to the big day";
      document.querySelector(".gallery h2").innerText = "Gallery";
      document.querySelector("#guestBookSection h2").innerText = "📖 Guest Book";
      document.getElementById("nameInput").placeholder = "Your name";
      document.getElementById("messageInput").placeholder = "Write your wishes...";
      document.querySelector(".guest-submit-btn").innerHTML = '<i class="fas fa-paper-plane"></i> Send';
      document.querySelector(".guest-view-btn").innerHTML = '<i class="fas fa-book-open"></i> View messages';
      document.querySelector(".modal-title").innerHTML = '<i class="fas fa-heart"></i> Wishes Messages';
    }

    function translateToFrench() {
      document.querySelector("header h1").innerText = "Rose et Trésor";
      document.querySelector(".section h2").innerText = "Détails de l'événement";
      document.querySelector(".rsvp-section h2").innerText = "Confirme ta présence";
      document.querySelector(".countdown h3").innerText = "Compte à rebours de l'heureux jour";
      document.querySelector(".gallery h2").innerText = "Galerie";
      document.querySelector("#guestBookSection h2").innerText = "📖 Livre d'or";
      document.getElementById("nameInput").placeholder = "Votre nom";
      document.getElementById("messageInput").placeholder = "Écrivez votre message de vœux...";
      document.querySelector(".guest-submit-btn").innerHTML = '<i class="fas fa-paper-plane"></i> Envoyer';
      document.querySelector(".guest-view-btn").innerHTML = '<i class="fas fa-book-open"></i> Voir les messages';
      document.querySelector(".modal-title").innerHTML = '<i class="fas fa-heart"></i> Messages de vœux';
    }

    // Activer/désactiver le champ nomAccompagnant
    document.getElementById('accompagné').addEventListener('change', function() {
      const accompagnantField = document.getElementById('nomAccompagnant');
      if (this.value === 'Oui') {
        accompagnantField.disabled = false;
        accompagnantField.required = true;
      } else {
        accompagnantField.disabled = true;
        accompagnantField.required = false;
        accompagnantField.value = '';
      }
    });
  </script>
</body>
</html>
